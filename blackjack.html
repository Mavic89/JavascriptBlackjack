<!DOCTYPE HTML>
<html>
    <head>
        <title>TenJack</title>
        <link rel = "shortcut icon" href="https://bfgblog-a.akamaihd.net/uploads/2013/11/25-1-AC-10H.png"/>
        <style type = "text/css">
        body{
            background-image:url("http://www.cocopahresort.com/wp-content/uploads/banner-bg.jpg");
        }
        img{
            width:200px;
            height:200px;
        }
        h1{
            text-align:center;
            font-family:arial;
            font-size:70px;
            color:#E7B80C;
        }
        hr{
            width:50%;
            background-color:#E7B80C;
            border-color:#E7B80C;
        }
        h2{
            color:#E7B80C;
            text-align:center;
        }
        h3{
            color:white;
        }
        #dealButton,#hitButton,#standButton{
            background-color:black;
            border:2px black;
            border-radius:5px;
            border-style:groove;
            color:#E7B80C;
            text-decoration:bold;
        
        }
        </style>
    </head>

    <body>
        <em><h1>BlackJack21</h1></em>
        <br>
        
        <div align="center" id = "dealer">
            <table>
                <tr>
                    <td><img id="dealerCardOne"src ="https://i.pinimg.com/736x/6c/a0/16/6ca016115a894f69dea75cc80f95ad92--game-cards-card-games.jpg" alt = "No card dealt"></td>
                    <td><img id = "dealerCardTwo"src ="https://i.pinimg.com/736x/6c/a0/16/6ca016115a894f69dea75cc80f95ad92--game-cards-card-games.jpg" alt = "No card dealt"></td>
                </tr>
                <tr>
                    <td align="center"><h3 id ="dealerSum"></h3></td>
                </tr>
            </table>
            
        </div>
        <hr> 
        <br><br><br>

        <div id = "player" align="center">
            <table>
                <tr>
                    <td><img id = "playerCardOne" src ="https://i.pinimg.com/736x/6c/a0/16/6ca016115a894f69dea75cc80f95ad92--game-cards-card-games.jpg" alt = "No card dealt"></td>
                    <td><img id= "playerCardTwo" src ="https://i.pinimg.com/736x/6c/a0/16/6ca016115a894f69dea75cc80f95ad92--game-cards-card-games.jpg" alt = "No card dealt"></td>
                </tr>
                <tr>
                    <td align="center"><h3 id ="playerSum"></h3></td>
                </tr>
            </table>
        </div>

        <div align="center">
            
            <table>
                    <tr>
                            <td align="right"><button id="dealButton" onclick="DealerDeal()">Deal</button></td>
                            <td align="center"><button id ="hitButton" onclick = "hit()">Hit</button></td>
                            <td align="left"><button id ="standButton" onclick = "stand()">Stand</button></td>
                    </tr>
                    <tr>
                            <!--Money available-->
                            <td align="right"><h1 style = "color:#E7B80C;font-size:30px;">Balance:</h1></td>
                            <td align="right"><h1 style = "color:#E7B80C;font-size:30px;"id = "cash">1000</h1></td>
                            <form id = "betform">
                                <td><input type="text" value="Bet Amount"  name="betAmount"></td>
                                <td><input type="image" style="border:none;background:none;padding:0;width:50px;height:50px;"  src ="http://custommadecasino.com/tshirtecommerce//uploaded/dg-designer-0e9d935f147701852434523765510742843.png" alt = "Bet" onclick="betAction();return false" ></td>
                            </form>

                            <!--<td><button style="border:none;background:none;padding:0;"><img style="width:50px;height:50px;" src ="http://custommadecasino.com/tshirtecommerce//uploaded/dg-designer-0e9d935f147701852434523765510742843.png" alt = "Bet"></button></td>-->
                            
                    </tr>
            </table>
            <h2 id ="Text">Click 'deal' to begin, closest to ten wins! Enter bet amount and press the chip to bet!</h2>
        </div>


        <script type = "text/javascript">
            "use strict";
            let dealerDeck = {Ace:1, Two:2, Three:3, Four:4, Five:5, Six:6, Seven:7, Eight:8, Nine:9, Ten:10, Jack:10, Queen:10, King:10};
            let playerDeck = {Ace:1, Two:2, Three:3, Four:4, Five:5, Six:6, Seven:7, Eight:8, Nine:9, Ten:10, Jack:10, Queen:10, King:10};
            let imageArray = ["https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Playing_card_heart_A.svg/1200px-Playing_card_heart_A.svg.png","https://media.istockphoto.com/photos/playing-card-two-of-hearts-picture-id166089272?k=6&m=166089272&s=612x612&w=0&h=Hzoz9GO_dsPYBMfJFHaXlMe5c5zzRIGZxCEXtKAyPQ8=","https://s3-us-west-2.amazonaws.com/files.queenoftarot.com/production/tarot_cards/images/000/000/912/original/4-3.png?1469803887","http://latin.cards/images/cartomancy/4-hearts.jpg","https://s3-us-west-2.amazonaws.com/files.queenoftarot.com/production/tarot_cards/images/000/000/914/medium/4-5.png?1469803892","https://st.depositphotos.com/2127699/2238/i/950/depositphotos_22389177-stock-photo-playing-card-six-of-hearts.jpg"];
            let balance = 1000;
            let bet;
            let dealerSum;
            let playerSum;
            document.getElementById('standButton').style.visibility = "hidden";
            document.getElementById('hitButton').style.visibility = "hidden";
            

            let DealerDeal = function(){
                if(balance <= 0){
                    alert("You busted!");
                    document.getElementById('cash').innerHTML = "Busted!";
                }
                else if(isNaN(bet) || bet == ""){
                    alert("Please make a bet");

                }
                else{
                    var cardArray  = Object.keys(dealerDeck);
                    var randomNumber = Math.random();
                    var arrayLength = cardArray.length-1;
                    var cardIndex  = Math.floor(randomNumber * arrayLength);
                    var randomKey    = cardArray[cardIndex];
                    var randomValue  = dealerDeck[randomKey]; 
                    document.getElementById("dealerCardOne").src=imageArray[randomValue-1];

                    var cardArray2  = Object.keys(dealerDeck);
                    var randomNumber2 = Math.random();
                    var arrayLength2 = cardArray2.length-1;
                    var cardIndex2  = Math.floor(randomNumber2 * arrayLength2);
                    var randomKey2    = cardArray2[cardIndex2];
                    var secondRandomValue  = dealerDeck[randomKey2]; 
                    document.getElementById("dealerCardTwo").src=imageArray[secondRandomValue-1];
                    document.getElementById("dealerSum").innerHTML=String(randomValue + secondRandomValue);
                    playerDeal(randomValue,secondRandomValue);
                }
            };

            let playerDeal = function(randomValue, secondRandomValue){
                var cardArray = Object.keys(dealerDeck);
                var randomNumber = Math.random();
                var arrayLength = cardArray.length-1;
                var cardIndex = Math.floor(randomNumber * arrayLength);
                var randomKey = cardArray[cardIndex];
                var playerRandomValue = dealerDeck[randomKey];
                document.getElementById("playerCardOne").src=imageArray[playerRandomValue-1];

                var cardArray2 = Object.keys(dealerDeck);
                var randomNumber2 = Math.random();
                var arrayLength2 = cardArray2.length-1;
                var cardIndex2 = Math.floor(randomNumber2 * arrayLength2);
                var randomKey2 = cardArray2[cardIndex2];
                var playerRandomValue2 = dealerDeck[randomKey2];
                document.getElementById("playerCardTwo").src=imageArray[playerRandomValue2-1];
                document.getElementById("playerSum").innerHTML=String(playerRandomValue+playerRandomValue2);

                dealerSum = randomValue+secondRandomValue;
                playerSum = playerRandomValue+playerRandomValue2;
                document.getElementById('dealButton').style.visibility = "hidden";
                document.getElementById('standButton').style.visibility = "visible";
                document.getElementById('hitButton').style.visibility = "visible";
                

            };
            
            function stand(){
                document.getElementById('dealButton').style.visibility = "visible";
                document.getElementById('standButton').style.visibility = "hidden";
                document.getElementById('hitButton').style.visibility = "hidden";
                Evaluate(dealerSum,playerSum);
            }
            //use do while for hit function while playersum <=21
            function betAction(){
                let betInput = document.getElementsByName("betAmount")[0].value;
                bet = Number(betInput);
                //typeof(bet) === "number"
                //bet==NaN
                //use js isNaN function because NaN when being compared will always be false, as well as null and undefined
                if(isNaN(bet) || bet == ""){
                    alert('Please enter a valid number');
                }
                else if (bet > balance){
                    alert("Insufficient Funds");

                }
                else if (bet <=0){
                    alert("Please enter a proper bet");
                }
                else{
                    document.getElementById('cash').innerHTML = String(balance-bet);
                }
                
            }
            //obtaining text value from using id didnt work, but specifying it by the name attribute did work.
            //document.getElementById().value();
            //document.getElementById().submit();
            //make sure bet was made before beginning
            
            function Evaluate(dealersum,playersum){

                if(playersum > dealersum){
                    document.getElementById("Text").innerHTML="Player wins $"+bet;
                    balance+=bet;
                    document.getElementById('cash').innerHTML = String(balance);
                }
                else if(playersum < dealersum){
                    document.getElementById("Text").innerHTML="Dealer wins $"+bet;
                    balance-=bet;
                    document.getElementById('cash').innerHTML = String(balance);
                }
                else if (playersum == dealersum){
                    document.getElementById("Text").innerHTML="Tie!";
                }
            }
        </script>

    </body>
</html>